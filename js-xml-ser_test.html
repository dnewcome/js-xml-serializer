<!doctype html>
<html>
	<head>
		<script src="typeOf.js" type="text/javascript" language="javascript"></script>
		<script src="js-xml-ser.js" type="text/javascript" language="javascript"></script>
		<script>
			function MyClass( str ) {
				this.mcAttr = str;	
			}

			var obj2 = {
				attr1: "two",
				attr2: new MyClass( "hello" ),
				attr3: [ "three", "four" ]
			};

			var rules = {
					Object: {
							__def__: { nodetype: "element", nodename: "obj", namespace: "http://example.org/" },
							attr1: { nodetype: "element", nodename: "first", namespace: "http://example.org/" }, 
							attr2: { nodetype: "element", nodename: "myc-attr2", namespace: "http://example.org/" } 
					},
					Array: {
							__def__: { nodetype: "element", nodename: "arr", namespace: "http://example.org/" }
					},
					String: {
							__def__: { nodetype: "element", nodename: "str", namespace: "http://example.org/" },
					},
					MyClass: {
							__def__: { nodetype: "element", nodename: "myc", namespace: "http://example.org/" }
					}
			}

			var namespaces = {
				"http://example.org/": "ex", 
			}

			function init() {
				console.log( serialize( null, null, obj2, rules, namespaces ) );	
				// console.log( serialize( null, null, execute, exrules, namespaces ) );	
			}
		</script>
	</head>
	<body onload="init();">
	</body>
</html>
